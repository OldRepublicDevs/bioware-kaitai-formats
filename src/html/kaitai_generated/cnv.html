
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <title>Cnv format specification</title>
  </head>
  <body>
           <div class="container">
  <h1>Cnv format specification</h1>

      
<a name='type-cnv'></a>
<h1>Type: Cnv</h1>

<p>CNV (Conversation) files are GFF-based format files that store conversation trees with entries, replies,
links, and conversation metadata. CNV files use the GFF (Generic File Format) binary structure
with file type signature "CNV ".

This format inherits the complete GFF structure from gff.ksy and adds CNV-specific
validation and documentation.

CNV files are used by Eclipse Engine games (Dragon Age Origins, Dragon Age 2, Mass Effect, Mass Effect 2).
They are similar to DLG files used by Odyssey and Aurora engines but adapted for Eclipse's conversation system.

CNV Root Struct Fields:
- NumWords (Int32): Word count for conversation
- Skippable (UInt8): Whether conversation can be skipped
- ConversationType (Int32): Conversation type identifier
- EntryList (List): NPC dialogue lines (CNVEntry structs)
- ReplyList (List): Player response options (CNVReply structs)
- StartingList (List): Entry points (CNVLink structs)
- StuntList (List): Special animations (CNVStunt structs)

Each Entry/Reply contains:
- Text (LocalizedString): Dialogue text
- Script (ResRef): Conditional/action scripts
- Camera settings, animations, links to other nodes

References:
- https://github.com/OldRepublicDevs/PyKotor/wiki/GFF-CNV.md
- https://github.com/OldRepublicDevs/PyKotor/wiki/GFF-File-Format.md
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>gff_data</td>
<td><a href="#type-gff">Gff</a></td>
<td>Complete GFF structure. CNV files use standard GFF format with "CNV " file type.
Access via: gff_data.header, gff_data.struct_array, gff_data.field_array, etc.
</td>
</tr>
</table>
value instance: ValueInstanceSpec(InstanceIdentifier(file_type_valid),List(instances, file_type_valid),Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_type)),Eq,Str(CNV )),None,Some(CalcBooleanType),DocSpec(Some(Validates that this is a CNV file (file type must be "CNV ")),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(version_valid),List(instances, version_valid),BoolOp(Or,List(Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V3.2)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V3.3)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V4.0)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V4.1)))),None,Some(CalcBooleanType),DocSpec(Some(Validates GFF version is supported),List()))

  </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  </body>
</html>
      
