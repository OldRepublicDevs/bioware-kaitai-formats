
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <title>Are format specification</title>
  </head>
  <body>
           <div class="container">
  <h1>Are format specification</h1>

      
<a name='type-are'></a>
<h1>Type: Are</h1>

<p>ARE (Area) files are GFF-based format files that store static area information including
lighting, fog, grass, weather, script hooks, and map data. ARE files use the GFF (Generic File Format)
binary structure with file type signature "ARE ".

This format inherits the complete GFF structure from gff.ksy and adds ARE-specific
validation and documentation.

ARE Root Struct Fields (Common):
- "Tag" (String): Unique area identifier
- "Name" (LocalizedString): Area display name
- "SunAmbientColor", "SunDiffuseColor" (UInt32): Lighting colors (BGR format)
- "SunFogOn", "SunFogNear", "SunFogFar", "SunFogColor": Fog settings
- "Grass_*": Grass rendering properties
- "OnEnter", "OnExit", "OnHeartbeat", "OnUserDefined": Script hooks (ResRef)
- "Map" (Struct): Minimap coordinate mapping
- "Rooms" (List): Audio zones and weather regions

KotOR 2 adds weather fields:
- "ChanceRain", "ChanceSnow", "ChanceLightning" (Int32)
- "Dirty*" fields for dust particle effects

References:
- https://github.com/OldRepublicDevs/PyKotor/wiki/GFF-ARE.md
- https://github.com/OldRepublicDevs/PyKotor/wiki/GFF-File-Format.md
- https://github.com/OldRepublicDevs/PyKotor/blob/master/Libraries/PyKotor/src/pykotor/resource/generics/are.py
- https://github.com/seedhartha/reone/blob/master/src/libs/resource/parser/gff/are.cpp
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>gff_data</td>
<td><a href="#type-gff">Gff</a></td>
<td>Complete GFF structure. ARE files use standard GFF format with "ARE " file type.
Access via: gff_data.header, gff_data.struct_array, gff_data.field_array, etc.
</td>
</tr>
</table>
value instance: ValueInstanceSpec(InstanceIdentifier(file_type_valid),List(instances, file_type_valid),Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_type)),Eq,Str(ARE )),None,Some(CalcBooleanType),DocSpec(Some(Validates that this is an ARE file (file type must be "ARE ")),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(root_struct_resolved),List(instances, root_struct_resolved),Attribute(Name(identifier(gff_data)),identifier(root_struct_resolved)),None,Some(CalcUserType(List(resolved_struct),None,List(IntNum(0)),false)),DocSpec(Some(Convenience access to the decoded GFF root struct (struct_array[0]).
Use this to iterate all resolved fields (label + typed value), including:
"Tag", "Name", "AlphaTest", "Map" (struct), "Rooms" (list), and all KotOR2/deprecated keys.),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(version_valid),List(instances, version_valid),BoolOp(Or,List(Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V3.2)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V3.3)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V4.0)), Compare(Attribute(Attribute(Name(identifier(gff_data)),identifier(header)),identifier(file_version)),Eq,Str(V4.1)))),None,Some(CalcBooleanType),DocSpec(Some(Validates GFF version is supported),List()))

  </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  </body>
</html>
      
