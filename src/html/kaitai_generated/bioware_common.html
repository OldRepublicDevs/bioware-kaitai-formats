
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <title>BiowareCommon format specification</title>
  </head>
  <body>
           <div class="container">
  <h1>BiowareCommon format specification</h1>

      
<a name='type-bioware_common'></a>
<h1>Type: BiowareCommon</h1>

<p>Shared enums and "common objects" used across the BioWare ecosystem that also appear
in BioWare/Odyssey binary formats (notably TLK and GFF LocalizedStrings).

This file is intended to be imported by other `.ksy` files to avoid repeating:
- Language IDs (used in TLK headers and GFF LocalizedString substrings)
- Gender IDs (used in GFF LocalizedString substrings)
- The CExoLocString / LocalizedString binary layout

References:
- https://github.com/OldRepublicDevs/PyKotor/blob/master/Libraries/PyKotor/src/pykotor/common/language.py
- https://github.com/OldRepublicDevs/PyKotor/blob/master/Libraries/PyKotor/src/pykotor/common/misc.py
- https://github.com/OldRepublicDevs/PyKotor/blob/master/Libraries/PyKotor/src/pykotor/common/game_object.py
- https://github.com/xoreos/xoreos-tools/blob/master/src/common/types.h
- https://github.com/seedhartha/reone/blob/master/include/reone/resource/types.h
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
</table>
<a name='enum-bioware_common-bioware_equipment_slot_flag'></a>
<h2>Enum: bioware_equipment_slot_flag</h2>

<table class="table">
<tr>
<th>ID</th><th>Name</th><th>Note</th>
</tr>
<tr>
<td>0</td><td>invalid</td><td></td></tr>
</tr>
<tr>
<td>1</td><td>head</td><td></td></tr>
</tr>
<tr>
<td>2</td><td>armor</td><td></td></tr>
</tr>
<tr>
<td>8</td><td>gauntlet</td><td></td></tr>
</tr>
<tr>
<td>16</td><td>right_hand</td><td></td></tr>
</tr>
<tr>
<td>32</td><td>left_hand</td><td></td></tr>
</tr>
<tr>
<td>128</td><td>right_arm</td><td></td></tr>
</tr>
<tr>
<td>256</td><td>left_arm</td><td></td></tr>
</tr>
<tr>
<td>512</td><td>implant</td><td></td></tr>
</tr>
<tr>
<td>1024</td><td>belt</td><td></td></tr>
</tr>
<tr>
<td>16384</td><td>claw1</td><td></td></tr>
</tr>
<tr>
<td>32768</td><td>claw2</td><td></td></tr>
</tr>
<tr>
<td>65536</td><td>claw3</td><td></td></tr>
</tr>
<tr>
<td>131072</td><td>hide</td><td></td></tr>
</tr>
<tr>
<td>262144</td><td>right_hand_2</td><td></td></tr>
</tr>
<tr>
<td>524288</td><td>left_hand_2</td><td></td></tr>
</tr>
</table>
<a name='enum-bioware_common-bioware_game_id'></a>
<h2>Enum: bioware_game_id</h2>

<table class="table">
<tr>
<th>ID</th><th>Name</th><th>Note</th>
</tr>
<tr>
<td>1</td><td>k1</td><td></td></tr>
</tr>
<tr>
<td>2</td><td>k2</td><td></td></tr>
</tr>
<tr>
<td>3</td><td>k1_xbox</td><td></td></tr>
</tr>
<tr>
<td>4</td><td>k2_xbox</td><td></td></tr>
</tr>
<tr>
<td>5</td><td>k1_ios</td><td></td></tr>
</tr>
<tr>
<td>6</td><td>k2_ios</td><td></td></tr>
</tr>
<tr>
<td>7</td><td>k1_android</td><td></td></tr>
</tr>
<tr>
<td>8</td><td>k2_android</td><td></td></tr>
</tr>
</table>
<a name='enum-bioware_common-bioware_gender_id'></a>
<h2>Enum: bioware_gender_id</h2>

<table class="table">
<tr>
<th>ID</th><th>Name</th><th>Note</th>
</tr>
<tr>
<td>0</td><td>male</td><td></td></tr>
</tr>
<tr>
<td>1</td><td>female</td><td></td></tr>
</tr>
</table>
<a name='enum-bioware_common-bioware_language_id'></a>
<h2>Enum: bioware_language_id</h2>

<table class="table">
<tr>
<th>ID</th><th>Name</th><th>Note</th>
</tr>
<tr>
<td>0</td><td>english</td><td></td></tr>
</tr>
<tr>
<td>1</td><td>french</td><td></td></tr>
</tr>
<tr>
<td>2</td><td>german</td><td></td></tr>
</tr>
<tr>
<td>3</td><td>italian</td><td></td></tr>
</tr>
<tr>
<td>4</td><td>spanish</td><td></td></tr>
</tr>
<tr>
<td>5</td><td>polish</td><td></td></tr>
</tr>
<tr>
<td>6</td><td>afrikaans</td><td></td></tr>
</tr>
<tr>
<td>7</td><td>basque</td><td></td></tr>
</tr>
<tr>
<td>9</td><td>breton</td><td></td></tr>
</tr>
<tr>
<td>10</td><td>catalan</td><td></td></tr>
</tr>
<tr>
<td>11</td><td>chamorro</td><td></td></tr>
</tr>
<tr>
<td>12</td><td>chichewa</td><td></td></tr>
</tr>
<tr>
<td>13</td><td>corsican</td><td></td></tr>
</tr>
<tr>
<td>14</td><td>danish</td><td></td></tr>
</tr>
<tr>
<td>15</td><td>dutch</td><td></td></tr>
</tr>
<tr>
<td>16</td><td>faroese</td><td></td></tr>
</tr>
<tr>
<td>18</td><td>filipino</td><td></td></tr>
</tr>
<tr>
<td>19</td><td>finnish</td><td></td></tr>
</tr>
<tr>
<td>20</td><td>flemish</td><td></td></tr>
</tr>
<tr>
<td>21</td><td>frisian</td><td></td></tr>
</tr>
<tr>
<td>22</td><td>galician</td><td></td></tr>
</tr>
<tr>
<td>23</td><td>ganda</td><td></td></tr>
</tr>
<tr>
<td>24</td><td>haitian_creole</td><td></td></tr>
</tr>
<tr>
<td>25</td><td>hausa_latin</td><td></td></tr>
</tr>
<tr>
<td>26</td><td>hawaiian</td><td></td></tr>
</tr>
<tr>
<td>27</td><td>icelandic</td><td></td></tr>
</tr>
<tr>
<td>28</td><td>ido</td><td></td></tr>
</tr>
<tr>
<td>29</td><td>indonesian</td><td></td></tr>
</tr>
<tr>
<td>30</td><td>igbo</td><td></td></tr>
</tr>
<tr>
<td>31</td><td>irish</td><td></td></tr>
</tr>
<tr>
<td>32</td><td>interlingua</td><td></td></tr>
</tr>
<tr>
<td>33</td><td>javanese_latin</td><td></td></tr>
</tr>
<tr>
<td>34</td><td>latin</td><td></td></tr>
</tr>
<tr>
<td>35</td><td>luxembourgish</td><td></td></tr>
</tr>
<tr>
<td>36</td><td>maltese</td><td></td></tr>
</tr>
<tr>
<td>37</td><td>norwegian</td><td></td></tr>
</tr>
<tr>
<td>38</td><td>occitan</td><td></td></tr>
</tr>
<tr>
<td>39</td><td>portuguese</td><td></td></tr>
</tr>
<tr>
<td>40</td><td>scots</td><td></td></tr>
</tr>
<tr>
<td>41</td><td>scottish_gaelic</td><td></td></tr>
</tr>
<tr>
<td>42</td><td>shona</td><td></td></tr>
</tr>
<tr>
<td>43</td><td>soto</td><td></td></tr>
</tr>
<tr>
<td>44</td><td>sundanese_latin</td><td></td></tr>
</tr>
<tr>
<td>45</td><td>swahili</td><td></td></tr>
</tr>
<tr>
<td>46</td><td>swedish</td><td></td></tr>
</tr>
<tr>
<td>47</td><td>tagalog</td><td></td></tr>
</tr>
<tr>
<td>48</td><td>tahitian</td><td></td></tr>
</tr>
<tr>
<td>49</td><td>tongan</td><td></td></tr>
</tr>
<tr>
<td>50</td><td>uzbek_latin</td><td></td></tr>
</tr>
<tr>
<td>51</td><td>walloon</td><td></td></tr>
</tr>
<tr>
<td>52</td><td>xhosa</td><td></td></tr>
</tr>
<tr>
<td>53</td><td>yoruba</td><td></td></tr>
</tr>
<tr>
<td>54</td><td>welsh</td><td></td></tr>
</tr>
<tr>
<td>55</td><td>zulu</td><td></td></tr>
</tr>
<tr>
<td>58</td><td>bulgarian</td><td></td></tr>
</tr>
<tr>
<td>59</td><td>belarisian</td><td></td></tr>
</tr>
<tr>
<td>60</td><td>macedonian</td><td></td></tr>
</tr>
<tr>
<td>61</td><td>russian</td><td></td></tr>
</tr>
<tr>
<td>62</td><td>serbian_cyrillic</td><td></td></tr>
</tr>
<tr>
<td>63</td><td>tajik</td><td></td></tr>
</tr>
<tr>
<td>64</td><td>tatar_cyrillic</td><td></td></tr>
</tr>
<tr>
<td>66</td><td>ukrainian</td><td></td></tr>
</tr>
<tr>
<td>67</td><td>uzbek</td><td></td></tr>
</tr>
<tr>
<td>68</td><td>albanian</td><td></td></tr>
</tr>
<tr>
<td>69</td><td>bosnian_latin</td><td></td></tr>
</tr>
<tr>
<td>70</td><td>czech</td><td></td></tr>
</tr>
<tr>
<td>71</td><td>slovak</td><td></td></tr>
</tr>
<tr>
<td>72</td><td>slovene</td><td></td></tr>
</tr>
<tr>
<td>73</td><td>croatian</td><td></td></tr>
</tr>
<tr>
<td>75</td><td>hungarian</td><td></td></tr>
</tr>
<tr>
<td>76</td><td>romanian</td><td></td></tr>
</tr>
<tr>
<td>77</td><td>greek</td><td></td></tr>
</tr>
<tr>
<td>78</td><td>esperanto</td><td></td></tr>
</tr>
<tr>
<td>79</td><td>azerbaijani_latin</td><td></td></tr>
</tr>
<tr>
<td>81</td><td>turkish</td><td></td></tr>
</tr>
<tr>
<td>82</td><td>turkmen_latin</td><td></td></tr>
</tr>
<tr>
<td>83</td><td>hebrew</td><td></td></tr>
</tr>
<tr>
<td>84</td><td>arabic</td><td></td></tr>
</tr>
<tr>
<td>85</td><td>estonian</td><td></td></tr>
</tr>
<tr>
<td>86</td><td>latvian</td><td></td></tr>
</tr>
<tr>
<td>87</td><td>lithuanian</td><td></td></tr>
</tr>
<tr>
<td>88</td><td>vietnamese</td><td></td></tr>
</tr>
<tr>
<td>89</td><td>thai</td><td></td></tr>
</tr>
<tr>
<td>90</td><td>aymara</td><td></td></tr>
</tr>
<tr>
<td>91</td><td>kinyarwanda</td><td></td></tr>
</tr>
<tr>
<td>92</td><td>kurdish_latin</td><td></td></tr>
</tr>
<tr>
<td>93</td><td>malagasy</td><td></td></tr>
</tr>
<tr>
<td>94</td><td>malay_latin</td><td></td></tr>
</tr>
<tr>
<td>95</td><td>maori</td><td></td></tr>
</tr>
<tr>
<td>96</td><td>moldovan_latin</td><td></td></tr>
</tr>
<tr>
<td>97</td><td>samoan</td><td></td></tr>
</tr>
<tr>
<td>98</td><td>somali</td><td></td></tr>
</tr>
<tr>
<td>128</td><td>korean</td><td></td></tr>
</tr>
<tr>
<td>129</td><td>chinese_traditional</td><td></td></tr>
</tr>
<tr>
<td>130</td><td>chinese_simplified</td><td></td></tr>
</tr>
<tr>
<td>131</td><td>japanese</td><td></td></tr>
</tr>
<tr>
<td>2147483646</td><td>unknown</td><td></td></tr>
</tr>
</table>
<a name='enum-bioware_common-bioware_object_type_id'></a>
<h2>Enum: bioware_object_type_id</h2>

<table class="table">
<tr>
<th>ID</th><th>Name</th><th>Note</th>
</tr>
<tr>
<td>0</td><td>invalid</td><td></td></tr>
</tr>
<tr>
<td>1</td><td>creature</td><td></td></tr>
</tr>
<tr>
<td>2</td><td>door</td><td></td></tr>
</tr>
<tr>
<td>3</td><td>item</td><td></td></tr>
</tr>
<tr>
<td>4</td><td>trigger</td><td></td></tr>
</tr>
<tr>
<td>5</td><td>placeable</td><td></td></tr>
</tr>
<tr>
<td>6</td><td>waypoint</td><td></td></tr>
</tr>
<tr>
<td>7</td><td>encounter</td><td></td></tr>
</tr>
<tr>
<td>8</td><td>store</td><td></td></tr>
</tr>
<tr>
<td>9</td><td>area</td><td></td></tr>
</tr>
<tr>
<td>10</td><td>sound</td><td></td></tr>
</tr>
<tr>
<td>11</td><td>camera</td><td></td></tr>
</tr>
</table>
<a name='type-bioware_common-bioware_binary_data'></a>
<h2>Type: BiowareBinaryData</h2>

<p>Variable-length binary data with 4-byte length prefix.
Used for Void/Binary fields in GFF files.
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>len_value</td>
<td>u4le</td>
<td>Length of binary data in bytes</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>value</td>
<td></td>
<td>Binary data</td>
</tr>
</table>
<a name='type-bioware_common-bioware_cexo_string'></a>
<h2>Type: BiowareCexoString</h2>

<p>BioWare CExoString - variable-length string with 4-byte length prefix.
Used for string fields in GFF files.
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>len_string</td>
<td>u4le</td>
<td>Length of string in bytes</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>value</td>
<td>str(UTF-8)</td>
<td>String data (UTF-8)</td>
</tr>
</table>
<a name='type-bioware_common-bioware_locstring'></a>
<h2>Type: BiowareLocstring</h2>

<p>BioWare "CExoLocString" (LocalizedString) binary layout, as embedded inside the GFF field-data
section for field type "LocalizedString".
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>total_size</td>
<td>u4le</td>
<td>Total size of the structure in bytes (excluding this field).</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>string_ref</td>
<td>u4le</td>
<td>StrRef into dialog.tlk (0xFFFFFFFF means no strref / use substrings).
</td>
</tr>
<tr>
<td>8</td>
<td>...</td>
<td>num_substrings</td>
<td>u4le</td>
<td>Number of substring entries that follow.</td>
</tr>
<tr>
<td>12</td>
<td>...</td>
<td>substrings</td>
<td><a href="#type-bioware_common-substring">Substring</a></td>
<td>Language/gender-specific substring entries.</td>
</tr>
</table>
value instance: ValueInstanceSpec(InstanceIdentifier(has_strref),List(types, bioware_locstring, instances, has_strref),Compare(Name(identifier(string_ref)),NotEq,IntNum(4294967295)),None,Some(CalcBooleanType),DocSpec(Some(True if this locstring references dialog.tlk),List()))
<a name='type-bioware_common-bioware_resref'></a>
<h2>Type: BiowareResref</h2>

<p>BioWare Resource Reference (ResRef) - max 16 character ASCII identifier.
Used throughout GFF files to reference game resources by name.
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>len_resref</td>
<td>u1</td>
<td>Length of ResRef string (0-16 characters)</td>
</tr>
<tr>
<td>1</td>
<td>...</td>
<td>value</td>
<td>str(ASCII)</td>
<td>ResRef string data (ASCII, lowercase recommended)</td>
</tr>
</table>
<a name='type-bioware_common-bioware_vector3'></a>
<h2>Type: BiowareVector3</h2>

<p>3D vector (X, Y, Z coordinates).
Used for positions, directions, etc. in game files.
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>x</td>
<td>f4le</td>
<td>X coordinate</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>y</td>
<td>f4le</td>
<td>Y coordinate</td>
</tr>
<tr>
<td>8</td>
<td>...</td>
<td>z</td>
<td>f4le</td>
<td>Z coordinate</td>
</tr>
</table>
<a name='type-bioware_common-bioware_vector4'></a>
<h2>Type: BiowareVector4</h2>

<p>4D vector / Quaternion (X, Y, Z, W components).
Used for orientations/rotations in game files.
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>x</td>
<td>f4le</td>
<td>X component</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>y</td>
<td>f4le</td>
<td>Y component</td>
</tr>
<tr>
<td>8</td>
<td>...</td>
<td>z</td>
<td>f4le</td>
<td>Z component</td>
</tr>
<tr>
<td>12</td>
<td>...</td>
<td>w</td>
<td>f4le</td>
<td>W component</td>
</tr>
</table>
<a name='type-bioware_common-substring'></a>
<h2>Type: Substring</h2>

<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>substring_id</td>
<td>u4le</td>
<td>Packed language+gender identifier:
- bits 0..7: gender
- bits 8..15: language
</td>
</tr>
<tr>
<td>4</td>
<td>...</td>
<td>len_text</td>
<td>u4le</td>
<td>Length of text in bytes.</td>
</tr>
<tr>
<td>8</td>
<td>...</td>
<td>text</td>
<td>str(UTF-8)</td>
<td>Substring text.</td>
</tr>
</table>
value instance: ValueInstanceSpec(InstanceIdentifier(gender),List(types, substring, instances, gender),EnumById(identifier(bioware_gender_id),Name(identifier(gender_raw)),typeId(false,List(),false)),None,Some(EnumType(List(bioware_gender_id),CalcIntType)),DocSpec(Some(Gender as enum value),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(gender_raw),List(types, substring, instances, gender_raw),BinOp(Name(identifier(substring_id)),BitAnd,IntNum(255)),None,Some(CalcIntType),DocSpec(Some(Raw gender ID (0..255).),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(language),List(types, substring, instances, language),EnumById(identifier(bioware_language_id),Name(identifier(language_raw)),typeId(false,List(),false)),None,Some(EnumType(List(bioware_language_id),CalcIntType)),DocSpec(Some(Language as enum value),List()))
value instance: ValueInstanceSpec(InstanceIdentifier(language_raw),List(types, substring, instances, language_raw),BinOp(BinOp(Name(identifier(substring_id)),RShift,IntNum(8)),BitAnd,IntNum(255)),None,Some(CalcIntType),DocSpec(Some(Raw language ID (0..255).),List()))

  </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  </body>
</html>
      
